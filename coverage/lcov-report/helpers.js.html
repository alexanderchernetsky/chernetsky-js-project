<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for helpers.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="prettify.css" />
    <link rel="stylesheet" href="base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="index.html">All files</a> helpers.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">21.74% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>5/23</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">25% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>4/16</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">66.67% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>4/6</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">21.74% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>5/23</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">40x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">import $ from "jquery";
&nbsp;
/** This function is a template for fetch request
 *  and helps us to shorten code in index.js file.
 * @param {string} bodyStr - the body of the request, is an instance of the FormData type
 * @return {object} - promise
 * */
export function <span class="fstat-no" title="function not covered" >fetchRequest(</span>bodyStr) {
<span class="cstat-no" title="statement not covered" >  return fetch('http://fe.it-academy.by/AjaxStringStorage2.php', {</span>
    method: 'POST',
    headers: {
      'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
    },
    body: bodyStr,
  });
}
&nbsp;
/**
 * Ask user if he really want to close the whole browser tab. This function is used
 * with the beforeunload event listener and is active only while user is playing the game.
 * @param {Object} EO - the event object.
 * @return {string} this string is necessary for custom message.
 */
export function <span class="fstat-no" title="function not covered" >askUser(</span>EO) {
<span class="cstat-no" title="statement not covered" >  EO = EO || window.event;</span>
  const dialogText = <span class="cstat-no" title="statement not covered" >'Do you want to exit the game?';</span>
<span class="cstat-no" title="statement not covered" >  EO.returnValue = dialogText;</span>
<span class="cstat-no" title="statement not covered" >  return dialogText;</span>
}
&nbsp;
/**
 * Would return true for 1, 100, 200 and etc. It defines when we need to create new obstacle.
 * This function is used in game cycle - updateGameArea function.
 * @param {number} frameNo - number of frames (from myGameArea object).
 * @return {boolean} true if frameNo equals 1 or (frameNo / 100) is an integer,
 * a%b returns surplus of the division of 2 operands.
 */
export function checkFrameNo(frameNo) {
  return (frameNo === 1) || ((frameNo / 100) % 1 === 0);
}
&nbsp;
/**
 * Would return some random x coordinate for obstacles during the game.
 * This function is used in game cycle - updateGameArea function.
 * @param {number} gameAreaWidth - constant from myGameArea object.
 * @param {number} obstacleWidth - width of obstacles.
 * @return {number} random x coordinate of obstacle, which will be created later.
 */
export function randomObstacleXCoordinate(gameAreaWidth, obstacleWidth) {
  return Math.floor(Math.random() * (gameAreaWidth - obstacleWidth) + 1);
}
&nbsp;
/**
 * Would return array with specified number objects containing
 * scores from the highest to the lowest.
 * This function is used inside createLeaderboard function.
 * @param {Array} arr - we put here leaderboardArray recieved from the server.
 * @param {number} resQuantity - number of results we want to show.
 * @return {Array} this prepared array will be used in showLeaderboard function.
 */
export function prepareLeaderboardArr(arr, resQuantity) {
  return arr
    .sort((first, second) =&gt; ((+first.score &lt;= +second.score) ? 1 : -1))
    .slice(0, resQuantity);
}
&nbsp;
/**
 * @namespace validateUserName
 */
export const validateUserName = {
  /**
   * This method is necessary to validate user name.
   * @memberof validateUserName
   * @method set
   */
  set(target, key, value) {
<span class="cstat-no" title="statement not covered" >    if (key === 'name') {</span>
<span class="cstat-no" title="statement not covered" >      if (value === '') {</span>
<span class="cstat-no" title="statement not covered" >        $('#prompt').html('Please type your name!');</span>
<span class="cstat-no" title="statement not covered" >        throw new TypeError('Please type your name!');</span>
      }
<span class="cstat-no" title="statement not covered" >      if (value.match(/[0-9]/) || value.match(/\s/)) {</span>
<span class="cstat-no" title="statement not covered" >        $('#prompt').html('Name must not contain numbers and spaces!');</span>
<span class="cstat-no" title="statement not covered" >        throw new TypeError('Name must not contain numbers and spaces!');</span>
      }
<span class="cstat-no" title="statement not covered" >      if (value.length &gt; 12) {</span>
<span class="cstat-no" title="statement not covered" >        $('#prompt').html('The length must be less than 12 characters!');</span>
<span class="cstat-no" title="statement not covered" >        throw new TypeError('The length must be less than 12 characters!');</span>
      }
    }
<span class="cstat-no" title="statement not covered" >    $('#prompt').html('');</span>
<span class="cstat-no" title="statement not covered" >    target[key] = value;</span>
<span class="cstat-no" title="statement not covered" >    return true;</span>
  },
};
&nbsp;
//  module.exports.checkFrameNo = checkFrameNo;
// module.exports.randomObstacleXCoordinate = randomObstacleXCoordinate;
// module.exports.prepareLeaderboardArr = prepareLeaderboardArr;
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Mon Dec 24 2018 13:45:33 GMT+0300 (Moscow Standard Time)
</div>
</div>
<script src="prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="sorter.js"></script>
</body>
</html>
